!function(e){"use strict";e.fn.ColorPickerSliders=function(t){return this.each(function(){function n(){"undefined"==typeof t&&(t={}),ut=e.extend({color:"hsl(342, 52%, 70%)",size:"default",placement:"auto",trigger:"focus",preventtouchkeyboardonshow:!0,title:"",hsvpanel:!1,sliders:!0,grouping:!0,swatches:["FFFFFF","C0C0C0","808080","000000","FF0000","800000","FFFF00","808000","00FF00","008000","00FFFF","008080","0000FF","000080","FF00FF","800080"],customswatches:"colorpickkersliders",connectedinput:!1,flat:!1,updateinterval:30,previewontriggerelement:!0,previewcontrasttreshold:15,previewformat:"rgb",erroneousciecolormarkers:!0,invalidcolorsopacity:1,finercierangeedges:!0,titleswatchesadd:"Add color to swatches",titleswatchesremove:"Remove color from swatches",titleswatchesreset:"Reset to default swatches",order:{},labels:{},onchange:function(){}},t),ut.order=t.hasOwnProperty("order")?e.extend({opacity:!1,hsl:!1,rgb:!1,cie:!1,preview:!1},t.order):{opacity:0,hsl:1,rgb:2,cie:3,preview:4},t.hasOwnProperty("labels")||(t.labels={}),ut.labels=e.extend({hslhue:"HSL-Hue",hslsaturation:"HSL-Saturation",hsllightness:"HSL-Lightness",rgbred:"RGB-Red",rgbgreen:"RGB-Green",rgbblue:"RGB-Blue",cielightness:"CIE-Lightness",ciechroma:"CIE-Chroma",ciehue:"CIE-hue",opacity:"Opacity",preview:"Preview"},t.labels)}function r(){pt||(pt=!0,yt=e.fn.ColorPickerSliders.detectWhichGradientIsSupported(),"filter"===yt&&(yt=!1),!yt&&e.fn.ColorPickerSliders.svgSupported()&&(yt="svg"),n(),ut.order.hasOwnProperty("preview")&&ut.order.preview!==!1||yt||(ut.order.preview=10),m(),s(),o(),z(),W(),ut.flat&&v(),g())}function i(){d(),_(),U(),y()}function s(){vt?(kt.tiny=tinycolor(dt.val()),kt.tiny.isValid()||(kt.tiny=tinycolor(ut.color))):kt.tiny=tinycolor(ut.color),kt.hsla=kt.tiny.toHsl(),kt.rgba=kt.tiny.toRgb(),kt.hsv=kt.tiny.toHsv(),kt.cielch=e.fn.ColorPickerSliders.rgb2lch(kt.rgba)}function o(){ut.connectedinput&&(mt=ut.connectedinput instanceof jQuery?ut.connectedinput:e(ut.connectedinput))}function u(t,n){var r=tinycolor(t);return r.isValid()?(kt.tiny=r,kt.hsla=r.toHsl(),kt.rgba=r.toRgb(),kt.hsv=r.toHsv(),kt.cielch=e.fn.ColorPickerSliders.rgb2lch(kt.rgba),ut.flat||bt?(at.removeClass("cp-unconvertible-cie-color"),U(n)):(n||W(),z()),!0):!1}function f(e){if(!ut.flat){if(bt)return dt.popover("hide"),dt.popover("show"),y(),void 0;c(e),bt=!0}}function l(){bt=!1,h()}function c(t){if(!(ft instanceof jQuery)){switch("undefined"==typeof t&&(t=!1),ft=e('<div class="cp-popover-container"></div>').appendTo("body"),at=e('<div class="cp-container"></div>').appendTo(ft),at.html(p()),ut.size){case"sm":at.addClass("cp-container-sm");break;case"lg":at.addClass("cp-container-lg")}i(),t||N(),dt.popover({html:!0,animation:!1,trigger:"manual",title:ut.title,placement:ut.placement,container:ft,content:function(){return at}}),dt.popover("show")}}function h(){ft.remove(),ft=null,dt.popover("destroy")}function p(){var e,t=[],n="";if(ut.sliders&&(ut.order.opacity!==!1&&(t[ut.order.opacity]='<div class="cp-slider cp-opacity cp-transparency"><span>'+ut.labels.opacity+'</span><div class="cp-marker"></div></div>'),ut.order.hsl!==!1&&(t[ut.order.hsl]='<div class="cp-slider cp-hslhue cp-transparency"><span>'+ut.labels.hslhue+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-hslsaturation cp-transparency"><span>'+ut.labels.hslsaturation+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-hsllightness cp-transparency"><span>'+ut.labels.hsllightness+'</span><div class="cp-marker"></div></div>'),ut.order.rgb!==!1&&(t[ut.order.rgb]='<div class="cp-slider cp-rgbred cp-transparency"><span>'+ut.labels.rgbred+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-rgbgreen cp-transparency"><span>'+ut.labels.rgbgreen+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-rgbblue cp-transparency"><span>'+ut.labels.rgbblue+'</span><div class="cp-marker"></div></div>'),ut.order.cie!==!1&&(t[ut.order.cie]='<div class="cp-slider cp-cielightness cp-transparency"><span>'+ut.labels.cielightness+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-ciechroma cp-transparency"><span>'+ut.labels.ciechroma+'</span><div class="cp-marker"></div></div><div class="cp-slider cp-ciehue cp-transparency"><span>'+ut.labels.ciehue+'</span><div class="cp-marker"></div></div>'),ut.order.preview!==!1&&(t[ut.order.preview]='<div class="cp-preview cp-transparency"><input type="text" readonly="readonly"></div>')),ut.grouping&&(n+=!!ut.hsvpanel+!!(ut.sliders&&t.length>0)+!!ut.swatches>1?'<ul class="cp-pills">':'<ul class="cp-pills hidden">',ut.hsvpanel&&(n+='<li><a href="#" class="cp-pill-hsvpanel">HSV panel</a></li>'),ut.sliders&&t.length>0&&(n+='<li><a href="#" class="cp-pill-sliders">Sliders</a></li>'),ut.swatches&&(n+='<li><a href="#" class="cp-pill-swatches">Swatches</a></li>'),n+="</ul>"),ut.hsvpanel&&(n+='<div class="cp-hsvpanel"><div class="cp-hsvpanel-sv"><span></span><div class="cp-marker-point"></div></div><div class="cp-hsvpanel-h"><span></span><div class="cp-hsvmarker-vertical"></div></div><div class="cp-hsvpanel-a cp-transparency"><span></span><div class="cp-hsvmarker-vertical"></div></div></div>'),ut.sliders){for(n+='<div class="cp-sliders">',e=0;e<t.length;e++)"undefined"!=typeof t[e]&&(n+=t[e]);n+="</div>"}return ut.swatches&&(n+='<div class="cp-swatches clearfix"><button type="button" class="add btn btn-default" title="'+ut.titleswatchesadd+'"><span class="glyphicon glyphicon-floppy-save"></span></button><button type="button" class="remove btn btn-default" title="'+ut.titleswatchesremove+'"><span class="glyphicon glyphicon-trash"></span></button><button type="button" class="reset btn btn-default" title="'+ut.titleswatchesreset+'"><span class="glyphicon glyphicon-repeat"></span></button><ul></ul></div>'),n}function d(){lt={actualswatch:!1,swatchescontainer:e(".cp-swatches",at),swatches:e(".cp-swatches ul",at),swatches_add:e(".cp-swatches button.add",at),swatches_remove:e(".cp-swatches button.remove",at),swatches_reset:e(".cp-swatches button.reset",at),all_sliders:e(".cp-sliders, .cp-preview input",at),hsvpanel:{sv:e(".cp-hsvpanel-sv",at),sv_marker:e(".cp-hsvpanel-sv .cp-marker-point",at),h:e(".cp-hsvpanel-h",at),h_marker:e(".cp-hsvpanel-h .cp-hsvmarker-vertical",at),a:e(".cp-hsvpanel-a span",at),a_marker:e(".cp-hsvpanel-a .cp-hsvmarker-vertical",at)},sliders:{hue:e(".cp-hslhue span",at),hue_marker:e(".cp-hslhue .cp-marker",at),saturation:e(".cp-hslsaturation span",at),saturation_marker:e(".cp-hslsaturation .cp-marker",at),lightness:e(".cp-hsllightness span",at),lightness_marker:e(".cp-hsllightness .cp-marker",at),opacity:e(".cp-opacity span",at),opacity_marker:e(".cp-opacity .cp-marker",at),red:e(".cp-rgbred span",at),red_marker:e(".cp-rgbred .cp-marker",at),green:e(".cp-rgbgreen span",at),green_marker:e(".cp-rgbgreen .cp-marker",at),blue:e(".cp-rgbblue span",at),blue_marker:e(".cp-rgbblue .cp-marker",at),cielightness:e(".cp-cielightness span",at),cielightness_marker:e(".cp-cielightness .cp-marker",at),ciechroma:e(".cp-ciechroma span",at),ciechroma_marker:e(".cp-ciechroma .cp-marker",at),ciehue:e(".cp-ciehue span",at),ciehue_marker:e(".cp-ciehue .cp-marker",at),preview:e(".cp-preview input",at)},all_pills:e(".cp-pills",at),pills:{hsvpanel:e(".cp-pill-hsvpanel",at),sliders:e(".cp-pill-sliders",at),swatches:e(".cp-pill-swatches",at)}},ut.customswatches||(lt.swatches_add.hide(),lt.swatches_remove.hide(),lt.swatches_reset.hide())}function v(){ut.flat&&(vt?at=e('<div class="cp-container"></div>').insertAfter(dt):(at=e('<div class="cp-container"></div>'),dt.append(at)),at.append(p()),i(),N())}function m(){ut.connectedinput instanceof jQuery?ut.connectedinput.add(dt):ut.connectedinput=ut.connectedinput===!1?dt:e(ut.connectedinput).add(dt)}function g(){dt.on("colorpickersliders.updateColor",function(e,t){u(t)}),dt.on("colorpickersliders.show",function(){f()}),dt.on("colorpickersliders.hide",function(){l()}),ut.flat||"focus"!==ut.trigger||("undefined"==typeof dt.attr("tabindex")&&dt.attr("tabindex",-1),ut.preventtouchkeyboardonshow&&(e(dt).prop("readonly",!0).addClass("cp-preventtouchkeyboardonshow"),e(dt).on("click",function(t){bt&&(e(dt).prop("readonly",!1),t.stopPropagation())})),vt||e(dt).on("click",function(e){f(),e.stopPropagation()}),e(dt).on("focus",function(e){f(),e.stopPropagation()}),e(dt).on("blur",function(t){l(),ut.preventtouchkeyboardonshow&&e(dt).prop("readonly",!0),t.stopPropagation()})),mt&&mt.on("keyup change",function(){var t=e(this);u(t.val(),!0)})}function y(){at.on("contextmenu",function(e){return e.preventDefault(),!1}),e(document).on("colorpickersliders.changeswatches",function(){_()}),lt.swatches.on("touchstart mousedown click","li span",function(t){var n=e(this).css("background-color");u(n),t.preventDefault()}),lt.swatches_add.on("touchstart mousedown click",function(e){H(),e.preventDefault(),e.stopPropagation()}),lt.swatches_remove.on("touchstart mousedown click",function(e){B(),e.preventDefault(),e.stopPropagation()}),lt.swatches_reset.on("touchstart touchend mousedown click",function(e){("click"===e.type||"touchend"===e.type)&&j(),e.preventDefault(),e.stopImmediatePropagation()}),lt.sliders.hue.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="hue";var t=I(Et,e);F("hsla","h",3.6*t),U()}}),lt.sliders.saturation.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="saturation";var t=I(Et,e);F("hsla","s",t/100),U()}}),lt.sliders.lightness.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="lightness";var t=I(Et,e);F("hsla","l",t/100),U()}}),lt.sliders.opacity.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="opacity";var t=I(Et,e);F("hsla","a",t/100),U()}}),lt.sliders.red.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="red";var t=I(Et,e);F("rgba","r",2.55*t),U()}}),lt.sliders.green.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="green";var t=I(Et,e);F("rgba","g",2.55*t),U()}}),lt.sliders.blue.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="blue";var t=I(Et,e);F("rgba","b",2.55*t),U()}}),lt.hsvpanel.sv.on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="hsvsv";var t=q("sv",e);F("hsv","s",t.horizontal/100),F("hsv","v",(100-t.vertical)/100),U()}}),lt.hsvpanel.h.on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="hsvh";var t=q("h",e);F("hsv","h",3.6*t.vertical),U()}}),lt.hsvpanel.a.on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="hsva";var t=q("a",e);F("hsv","a",(100-t.vertical)/100),U()}}),lt.sliders.cielightness.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="cielightness";var t=I(Et,e);F("cielch","l",wt/100*t),U()}}),lt.sliders.ciechroma.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="ciechroma";var t=I(Et,e);F("cielch","c",Lt/100*t),U()}}),lt.sliders.ciehue.parent().on("touchstart mousedown",function(e){if(e.preventDefault(),!(e.which>1)){Et="ciehue";var t=I(Et,e);F("cielch","h",3.6*t),U()}}),lt.sliders.preview.on("click",function(){this.select()}),e(document).on("touchmove mousemove",function(e){Et&&((new Date).getTime()-Ct>Tt&&!Nt?O(Et,e):A(Et,e))}),e(document).on("touchend mouseup",function(e){e.which>1||Et&&(Et=!1,e.preventDefault())}),lt.pills.hsvpanel.on("click",function(e){e.preventDefault(),C()}),lt.pills.sliders.on("click",function(e){e.preventDefault(),k()}),lt.pills.swatches.on("click",function(e){e.preventDefault(),L()}),ut.flat||ft.on("touchstart mousedown",".popover",function(e){return e.preventDefault(),e.stopPropagation(),!1})}function w(e,t){try{localStorage.setItem("cp-userdata-"+e,JSON.stringify(t))}catch(n){}}function E(e){try{var t=JSON.parse(localStorage.getItem("cp-userdata-"+e));return t}catch(n){return null}}function S(){return""!==gt?gt:(0===lt.pills.hsvpanel.length&&(gt+="_hsvpanel_"),0===lt.pills.sliders.length&&(gt+="_sliders_"),0===lt.pills.swatches.length&&(gt+="_swatches_"),gt)}function x(){return E("config_activepill"+S())}function T(e){return w("config_activepill"+S(),e)}function N(){switch(x()){case"hsvpanel":C();break;case"sliders":k();break;case"swatches":L();break;default:if(lt.pills.hsvpanel.length){C();break}if(lt.pills.sliders.length){k();break}if(lt.pills.swatches.length){L();break}}}function C(){return 0===lt.pills.hsvpanel.length?!1:(e("a",lt.all_pills).removeClass("active"),lt.pills.hsvpanel.addClass("active"),at.removeClass("sliders-active swatches-active").addClass("hsvpanel-active"),T("hsvpanel"),U(!0),f(!0),!0)}function k(){return 0===lt.pills.sliders.length?!1:(e("a",lt.all_pills).removeClass("active"),lt.pills.sliders.addClass("active"),at.removeClass("hsvpanel-active swatches-active").addClass("sliders-active"),T("sliders"),U(!0),f(!0),!0)}function L(){return 0===lt.pills.swatches.length?!1:(e("a",lt.all_pills).removeClass("active"),lt.pills.swatches.addClass("active"),at.removeClass("hsvpanel-active sliders-active").addClass("swatches-active"),T("swatches"),U(!0),f(!0),!0)}function A(e,t){clearTimeout(xt),xt=setTimeout(function(){O(e,t)},Tt)}function O(e,t){var n;if(Nt)return A(e,t),void 0;switch(Nt=!0,Ct=(new Date).getTime(),n="hsvsv"===e?q("sv",t):"hsvh"===e?q("h",t):"hsva"===e?q("a",t):I(e,t),e){case"hsvsv":F("hsv","s",n.horizontal/100),F("hsv","v",(100-n.vertical)/100);break;case"hsvh":F("hsv","h",3.6*n.vertical);break;case"hsva":F("hsv","a",(100-n.vertical)/100);break;case"hue":F("hsla","h",3.6*n);break;case"saturation":F("hsla","s",n/100);break;case"lightness":F("hsla","l",n/100);break;case"opacity":F("hsla","a",n/100);break;case"red":F("rgba","r",2.55*n);break;case"green":F("rgba","g",2.55*n);break;case"blue":F("rgba","b",2.55*n);break;case"cielightness":F("cielch","l",wt/100*n);break;case"ciechroma":F("cielch","c",Lt/100*n);break;case"ciehue":F("cielch","h",3.6*n)}U(),t.preventDefault(),Nt=!1}function M(){var e,t;for(ct=[],e=0;e<ut.swatches.length;e++)t=tinycolor(ut.swatches[e]),t.isValid()&&ct.push(t.toRgbString())}function _(){var t,n,r,i,s;if(ut.swatches){if(ut.customswatches){t=!1;try{t=JSON.parse(localStorage.getItem("swatches-"+ut.customswatches))}catch(o){}t?ct=t:M()}else M();if(ct instanceof Array)for(lt.swatches.html(""),n=0;n<ct.length;n++)r=tinycolor(ct[n]),r.isValid()&&(i=e("<span></span>").css("background-color",r.toRgbString()),s=e('<div class="btn btn-default cp-swatch"></div>'),s.append(i),lt.swatches.append(e("<li></li>").append(s)));D()}}function D(){var t=!1;e("span",lt.swatches).filter(function(){var n,r=e(this).css("background-color");r=tinycolor(r),r.alpha=Math.round(100*r.alpha)/100,r.toRgbString()===kt.tiny.toRgbString()&&(t=!0,n=e(this).parent(),n.is(lt.actualswatch)||(lt.actualswatch&&lt.actualswatch.removeClass("actual"),lt.actualswatch=n,n.addClass("actual")))}),t||lt.actualswatch&&(lt.actualswatch.removeClass("actual"),lt.actualswatch=!1),lt.actualswatch?(lt.swatches_add.prop("disabled",!0),lt.swatches_remove.prop("disabled",!1)):(lt.swatches_add.prop("disabled",!1),lt.swatches_remove.prop("disabled",!0))}function P(){localStorage.setItem("swatches-"+ut.customswatches,JSON.stringify(ct))}function H(){ct.unshift(kt.tiny.toRgbString()),P(),e(document).trigger("colorpickersliders.changeswatches")}function B(){var t=ct.indexOf(kt.tiny.toRgbString());-1!==t&&(ct.splice(t,1),P(),e(document).trigger("colorpickersliders.changeswatches"))}function j(){confirm("Do you really want to reset the swatches? All customizations will be lost!")&&(M(),P(),e(document).trigger("colorpickersliders.changeswatches"))}function F(t,n,r){switch(t){case"hsv":kt.hsv[n]=r,kt.tiny=tinycolor({h:kt.hsv.h,s:kt.hsv.s,v:kt.hsv.v,a:kt.hsv.a}),kt.rgba=kt.tiny.toRgb(),kt.hsla=kt.tiny.toHsl(),kt.cielch=e.fn.ColorPickerSliders.rgb2lch(kt.rgba);break;case"hsla":kt.hsla[n]=r,kt.tiny=tinycolor({h:kt.hsla.h,s:kt.hsla.s,l:kt.hsla.l,a:kt.hsla.a}),kt.rgba=kt.tiny.toRgb(),kt.hsv=kt.tiny.toHsv(),kt.cielch=e.fn.ColorPickerSliders.rgb2lch(kt.rgba),at.removeClass("cp-unconvertible-cie-color");break;case"rgba":kt.rgba[n]=r,kt.tiny=tinycolor({r:kt.rgba.r,g:kt.rgba.g,b:kt.rgba.b,a:kt.hsla.a}),kt.hsla=kt.tiny.toHsl(),kt.hsv=kt.tiny.toHsv(),kt.cielch=e.fn.ColorPickerSliders.rgb2lch(kt.rgba),at.removeClass("cp-unconvertible-cie-color");break;case"cielch":kt.cielch[n]=r,kt.rgba=e.fn.ColorPickerSliders.lch2rgb(kt.cielch),kt.tiny=tinycolor(kt.rgba),kt.hsla=kt.tiny.toHsl(),kt.hsv=kt.tiny.toHsv(),ut.erroneousciecolormarkers&&(kt.rgba.isok?at.removeClass("cp-unconvertible-cie-color"):at.addClass("cp-unconvertible-cie-color"))}}function I(t,n){var r=e.fn.ColorPickerSliders.calculateEventPositionPercentage(n,lt.sliders[t]);return lt.sliders[t+"_marker"].data("position",r),r}function q(t,n){var r=e.fn.ColorPickerSliders.calculateEventPositionPercentage(n,lt.hsvpanel.sv,!0);return lt.hsvpanel[t+"_marker"].data("position",r),r}function R(e){ht=setTimeout(function(){U(e)},ut.updateinterval)}function U(e){return clearTimeout(ht),Date.now=Date.now||function(){return+(new Date)},Date.now()-St<ut.updateinterval?(R(e),void 0):("undefined"==typeof e&&(e=!1),St=Date.now(),ut.hsvpanel===!1||ut.grouping&&"hsvpanel"!==x()||(X(),V(),$()),!ut.sliders||ut.grouping&&"sliders"!==x()||(ut.order.opacity!==!1&&G(),ut.order.hsl!==!1&&(J(),K(),Q()),ut.order.rgb!==!1&&(Y(),Z(),et()),ut.order.cie!==!1&&(nt(),rt(),it()),ut.order.preview!==!1&&st()),e||W(),(100-kt.cielch.l)*kt.cielch.a<ut.previewcontrasttreshold?(lt.all_sliders.css("color","#000"),vt&&ut.previewontriggerelement&&dt.css("background",kt.tiny.toRgbString()).css("color","#000")):(lt.all_sliders.css("color","#fff"),vt&&ut.previewontriggerelement&&dt.css("background",kt.tiny.toRgbString()).css("color","#fff")),!ut.swatches||ut.grouping&&"swatches"!==x()||D(),ut.onchange(at,kt),dt.data("color",kt),void 0)}function z(){vt&&ut.previewontriggerelement&&((100-kt.cielch.l)*kt.cielch.a<ut.previewcontrasttreshold?dt.css("background",kt.tiny.toRgbString()).css("color","#000"):dt.css("background",kt.tiny.toRgbString()).css("color","#fff"))}function W(){mt&&mt.each(function(t,n){var r=e(n),i=r.data("color-format")||ut.previewformat;switch(i){case"hex":kt.hsla.a<1?r.val(kt.tiny.toRgbString()):r.val(kt.tiny.toHexString());break;case"hsl":r.val(kt.tiny.toHslString());break;case"rgb":default:r.val(kt.tiny.toRgbString())}})}function X(){lt.hsvpanel.sv.css("background",tinycolor("hsv("+kt.hsv.h+",100%,100%)").toRgbString()),lt.hsvpanel.sv_marker.css("left",100*kt.hsv.s+"%").css("top",100-100*kt.hsv.v+"%")}function V(){lt.hsvpanel.h_marker.css("top",100*(kt.hsv.h/360)+"%")}function $(){ot(lt.hsvpanel.a,e.fn.ColorPickerSliders.getScaledGradientStops(kt.hsla,"a",1,0,2),!0),lt.hsvpanel.a_marker.css("top",100-100*kt.hsv.a+"%")}function J(){ot(lt.sliders.hue,e.fn.ColorPickerSliders.getScaledGradientStops(kt.hsla,"h",0,360,7)),lt.sliders.hue_marker.css("left",100*(kt.hsla.h/360)+"%")}function K(){ot(lt.sliders.saturation,e.fn.ColorPickerSliders.getScaledGradientStops(kt.hsla,"s",0,1,2)),lt.sliders.saturation_marker.css("left",100*kt.hsla.s+"%")}function Q(){ot(lt.sliders.lightness,e.fn.ColorPickerSliders.getScaledGradientStops(kt.hsla,"l",0,1,3)),lt.sliders.lightness_marker.css("left",100*kt.hsla.l+"%")}function G(){ot(lt.sliders.opacity,e.fn.ColorPickerSliders.getScaledGradientStops(kt.hsla,"a",0,1,2)),lt.sliders.opacity_marker.css("left",100*kt.hsla.a+"%")}function Y(){ot(lt.sliders.red,e.fn.ColorPickerSliders.getScaledGradientStops(kt.rgba,"r",0,255,2)),lt.sliders.red_marker.css("left",100*(kt.rgba.r/255)+"%")}function Z(){ot(lt.sliders.green,e.fn.ColorPickerSliders.getScaledGradientStops(kt.rgba,"g",0,255,2)),lt.sliders.green_marker.css("left",100*(kt.rgba.g/255)+"%")}function et(){ot(lt.sliders.blue,e.fn.ColorPickerSliders.getScaledGradientStops(kt.rgba,"b",0,255,2)),lt.sliders.blue_marker.css("left",100*(kt.rgba.b/255)+"%")}function tt(t,n){var r,i,s,o,u;if(1===ut.invalidcolorsopacity||!ut.finercierangeedges)return t;for(t.sort(function(e,t){return e.position-t.position}),r=[],i=1;i<t.length;i++)if(t[i].isok!==t[i-1].isok)for(s=Math.round(t[i].position)-Math.round(t[i-1].position),o=e.fn.ColorPickerSliders.getScaledGradientStops(t[i].rawcolor,n,t[i-1].rawcolor[n],t[i].rawcolor[n],s,ut.invalidcolorsopacity,t[i-1].position,t[i].position),u=0;u<o.length;u++)if(o[u].isok!==t[i-1].isok){r.push(o[u]),u>0&&r.push(o[u-1]);break}return e.merge(r,t)}function nt(){var t=e.fn.ColorPickerSliders.getScaledGradientStops(kt.cielch,"l",0,100,10,ut.invalidcolorsopacity);t=tt(t,"l"),ot(lt.sliders.cielightness,t),lt.sliders.cielightness_marker.css("left",100*(kt.cielch.l/wt)+"%")}function rt(){var t=e.fn.ColorPickerSliders.getScaledGradientStops(kt.cielch,"c",0,Lt,5,ut.invalidcolorsopacity);t=tt(t,"c"),ot(lt.sliders.ciechroma,t),lt.sliders.ciechroma_marker.css("left",100*(kt.cielch.c/Lt)+"%")}function it(){var t=e.fn.ColorPickerSliders.getScaledGradientStops(kt.cielch,"h",0,360,28,ut.invalidcolorsopacity);t=tt(t,"h"),ot(lt.sliders.ciehue,t),lt.sliders.ciehue_marker.css("left",100*(kt.cielch.h/360)+"%")}function st(){lt.sliders.preview.css("background",e.fn.ColorPickerSliders.csscolor(kt.rgba));var t;switch(ut.previewformat){case"hex":t=kt.hsla.a<1?kt.tiny.toRgbString():kt.tiny.toHexString();break;case"hsl":t=kt.tiny.toHslString();break;case"rgb":default:t=kt.tiny.toRgbString()}lt.sliders.preview.val(t)}function ot(t,n,r){switch("undefined"==typeof r&&(r=!1),n.sort(function(e,t){return e.position-t.position}),yt){case"noprefix":e.fn.ColorPickerSliders.renderNoprefix(t,n,r);break;case"webkit":e.fn.ColorPickerSliders.renderWebkit(t,n,r);break;case"ms":e.fn.ColorPickerSliders.renderMs(t,n,r);break;case"svg":e.fn.ColorPickerSliders.renderSVG(t,n,r);break;case"oldwebkit":e.fn.ColorPickerSliders.renderOldwebkit(t,n,r)}}var ut,at,ft,lt,ct,ht,pt=!1,dt=e(this),vt=dt.is("input"),mt=!1,gt="",yt=!1,bt=!1,wt=101,Et=!1,St=0,xt=null,Tt=70,Nt=!1,Ct=0,kt={tiny:null,hsla:null,rgba:null,hsv:null,cielch:null},Lt=144;r()})},e.fn.ColorPickerSliders.getEventCoordinates=function(e){return"undefined"!=typeof e.pageX?{pageX:e.originalEvent.pageX,pageY:e.originalEvent.pageY}:"undefined"!=typeof e.originalEvent.touches?{pageX:e.originalEvent.touches[0].pageX,pageY:e.originalEvent.touches[0].pageY}:void 0},e.fn.ColorPickerSliders.calculateEventPositionPercentage=function(t,n,r){var i,s,o,u,f,l,c;return"undefined"==typeof r&&(r=!1),i=e.fn.ColorPickerSliders.getEventCoordinates(t),s=n.width(),o=i.pageX-n.offset().left,u=100*(o/s),0>u&&(u=0),u>100&&(u=100),r?(f=n.height(),l=i.pageY-n.offset().top,c=100*(l/f),0>c&&(c=0),c>100&&(c=100),{horizontal:u,vertical:c}):u},e.fn.ColorPickerSliders.getScaledGradientStops=function(t,n,r,i,s,o,u,f){var l,c,h,p,d,v,m,g;for("undefined"==typeof o&&(o=1),"undefined"==typeof u&&(u=0),"undefined"==typeof f&&(f=100),l=[],c=i-r,h=!0,p=0;s>p;++p)v=p/(s-1),m=e.fn.ColorPickerSliders.modifyColor(t,n,v*c+r),1>o?(g=e.fn.ColorPickerSliders.lch2rgb(m,o),h=g.isok,d=e.fn.ColorPickerSliders.csscolor(g,o)):d=e.fn.ColorPickerSliders.csscolor(m,o),l[p]={color:d,position:v*(f-u)+u,isok:h,rawcolor:m};return l},e.fn.ColorPickerSliders.getGradientStopsCSSString=function(e){var t,n,r,i="",s="",o="";for(t=0;t<e.length;t++)n=e[t],i+=","+n.color+" "+n.position+"%",s+=",color-stop("+n.position+"%,"+n.color+")",r=tinycolor(n.color),o+='<stop stop-color="'+r.toHexString()+'" stop-opacity="'+r.toRgb().a+'"'+' offset="'+n.position/100+'"/>';return{noprefix:i,oldwebkit:s,svg:o}},e.fn.ColorPickerSliders.renderNoprefix=function(t,n,r){"undefined"==typeof r&&(r=!1);var i,s=e.fn.ColorPickerSliders.getGradientStopsCSSString(n).noprefix;i=r?"linear-gradient(to bottom":"linear-gradient(to right",i+=s+")",t.css("background-image",i)},e.fn.ColorPickerSliders.renderWebkit=function(t,n,r){"undefined"==typeof r&&(r=!1);var i,s=e.fn.ColorPickerSliders.getGradientStopsCSSString(n).noprefix;i=r?"-webkit-linear-gradient(top":"-webkit-linear-gradient(left",i+=s+")",t.css("background-image",i)},e.fn.ColorPickerSliders.renderOldwebkit=function(t,n,r){"undefined"==typeof r&&(r=!1);var i,s=e.fn.ColorPickerSliders.getGradientStopsCSSString(n).oldwebkit;i=r?"-webkit-gradient(linear, 0% 0%, 0 100%":"-webkit-gradient(linear, 0% 0%, 100% 0%",i+=s+")",t.css("background-image",i)},e.fn.ColorPickerSliders.renderMs=function(t,n,r){"undefined"==typeof r&&(r=!1);var i,s=e.fn.ColorPickerSliders.getGradientStopsCSSString(n).noprefix;i=r?"-ms-linear-gradient(to bottom":"-ms-linear-gradient(to right",i+=s+")",t.css("background-image",i)},e.fn.ColorPickerSliders.renderSVG=function(t,n,r){"undefined"==typeof r&&(r=!1);var i="",s=e.fn.ColorPickerSliders.getGradientStopsCSSString(n).svg;i=r?'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><linearGradient id="vsgg" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="0" y2="100%">':'<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><linearGradient id="vsgg" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="100%" y2="0">',i+=s,i+='</linearGradient><rect x="0" y="0" width="1" height="1" fill="url(#vsgg)" /></svg>',i="url(data:image/svg+xml;base64,"+e.fn.ColorPickerSliders.base64encode(i)+")",t.css("background-image",i)},e.fn.ColorPickerSliders.base64encode=function(e){var t,n,r,i,s,o,u,a,f,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=0,h=0,p="",d=[];if(!e)return e;do t=e.charCodeAt(c++),n=e.charCodeAt(c++),r=e.charCodeAt(c++),a=t<<16|n<<8|r,i=63&a>>18,s=63&a>>12,o=63&a>>6,u=63&a,d[h++]=l.charAt(i)+l.charAt(s)+l.charAt(o)+l.charAt(u);while(c<e.length);return p=d.join(""),f=e.length%3,(f?p.slice(0,f-3):p)+"===".slice(f||3)},e.fn.ColorPickerSliders.isGoodRgb=function(e){var t=258,n=-1;return e.r>t||e.g>t||e.b>t||e.r<n||e.g<n||e.b<n?!1:(e.r=Math.min(255,e.r),e.g=Math.min(255,e.g),e.b=Math.min(255,e.b),e.r=Math.max(0,e.r),e.g=Math.max(0,e.g),e.b=Math.max(0,e.b),!0)},e.fn.ColorPickerSliders.rgb2lch=function(t){var n=e.fn.ColorPickerSliders.CIELab2CIELCH(e.fn.ColorPickerSliders.XYZ2CIELab(e.fn.ColorPickerSliders.rgb2XYZ(t)));return t.hasOwnProperty("a")&&(n.a=t.a),n},e.fn.ColorPickerSliders.lch2rgb=function(t,n){var r,i,s,o,u;if("undefined"==typeof n&&(n=1),r=e.fn.ColorPickerSliders.XYZ2rgb(e.fn.ColorPickerSliders.CIELab2XYZ(e.fn.ColorPickerSliders.CIELCH2CIELab(t))),e.fn.ColorPickerSliders.isGoodRgb(r))return t.hasOwnProperty("a")&&(r.a=t.a),r.isok=!0,r;i=e.extend({},t),s=i.c,o=-1,u=0;do++u,i.c=o+(s-o)/2,r=e.fn.ColorPickerSliders.XYZ2rgb(e.fn.ColorPickerSliders.CIELab2XYZ(e.fn.ColorPickerSliders.CIELCH2CIELab(i))),e.fn.ColorPickerSliders.isGoodRgb(r)?o=i.c:s=i.c;while(Math.abs(s-o)>.9&&100>u);return t.hasOwnProperty("a")&&(r.a=t.a),r.r=Math.max(0,r.r),r.g=Math.max(0,r.g),r.b=Math.max(0,r.b),r.r=Math.min(255,r.r),r.g=Math.min(255,r.g),r.b=Math.min(255,r.b),1>n&&(r.a=r.hasOwnProperty("a")?r.a*n:n),r.isok=!1,r},e.fn.ColorPickerSliders.modifyColor=function(t,n,r){var i=e.extend({},t);if(!t.hasOwnProperty(n))throw"Missing color property: "+n;return i[n]=r,i},e.fn.ColorPickerSliders.csscolor=function(t,n){"undefined"==typeof n&&(n=1);var r=!1,i=e.extend({},t);return i.hasOwnProperty("c")&&(i=e.fn.ColorPickerSliders.lch2rgb(i,n)),i.hasOwnProperty("h")&&(r="hsla("+i.h+","+100*i.s+"%,"+100*i.l+"%,"+i.a+")"),i.hasOwnProperty("r")&&(r=i.a<1?"rgba("+Math.round(i.r)+","+Math.round(i.g)+","+Math.round(i.b)+","+i.a+")":"rgb("+Math.round(i.r)+","+Math.round(i.g)+","+Math.round(i.b)+")"),r},e.fn.ColorPickerSliders.rgb2XYZ=function(e){var t={},n=e.r/255,r=e.g/255,i=e.b/255;return n>.04045?n=Math.pow((n+.055)/1.055,2.4):n/=12.92,r>.04045?r=Math.pow((r+.055)/1.055,2.4):r/=12.92,i>.04045?i=Math.pow((i+.055)/1.055,2.4):i/=12.92,n=100*n,r=100*r,i=100*i,t.x=.4124*n+.3576*r+.1805*i,t.y=.2126*n+.7152*r+.0722*i,t.z=.0193*n+.1192*r+.9505*i,t},e.fn.ColorPickerSliders.XYZ2CIELab=function(e){var t={},n=e.x/95.047,r=e.y/100,i=e.z/108.883;return n=n>.008856?Math.pow(n,.333333333):7.787*n+.137931034,r=r>.008856?Math.pow(r,.333333333):7.787*r+.137931034,i=i>.008856?Math.pow(i,.333333333):7.787*i+.137931034,t.l=116*r-16,t.a=500*(n-r),t.b=200*(r-i),t},e.fn.ColorPickerSliders.CIELab2CIELCH=function(e){var t={};return t.l=e.l,t.c=Math.sqrt(Math.pow(e.a,2)+Math.pow(e.b,2)),t.h=Math.atan2(e.b,e.a),t.h=t.h>0?180*(t.h/Math.PI):360-180*(Math.abs(t.h)/Math.PI),t},e.fn.ColorPickerSliders.CIELCH2CIELab=function(e){var t={};return t.l=e.l,t.a=Math.cos(.01745329251*e.h)*e.c,t.b=Math.sin(.01745329251*e.h)*e.c,t},e.fn.ColorPickerSliders.CIELab2XYZ=function(e){var t={};return t.y=(e.l+16)/116,t.x=e.a/500+t.y,t.z=t.y-e.b/200,t.y=Math.pow(t.y,3)>.008856?Math.pow(t.y,3):(t.y-.137931034)/7.787,t.x=Math.pow(t.x,3)>.008856?Math.pow(t.x,3):(t.x-.137931034)/7.787,t.z=Math.pow(t.z,3)>.008856?Math.pow(t.z,3):(t.z-.137931034)/7.787,t.x=95.047*t.x,t.y=100*t.y,t.z=108.883*t.z,t},e.fn.ColorPickerSliders.XYZ2rgb=function(e){var t={};return e.x=e.x/100,e.y=e.y/100,e.z=e.z/100,t.r=3.2406*e.x+ -1.5372*e.y+e.z*-0.4986,t.g=e.x*-0.9689+1.8758*e.y+.0415*e.z,t.b=.0557*e.x+e.y*-0.204+1.057*e.z,t.r=t.r>.0031308?1.055*Math.pow(t.r,.41666667)-.055:12.92*t.r,t.g=t.g>.0031308?1.055*Math.pow(t.g,.41666667)-.055:12.92*t.g,t.b=t.b>.0031308?1.055*Math.pow(t.b,.41666667)-.055:12.92*t.b,t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},e.fn.ColorPickerSliders.detectWhichGradientIsSupported=function(){var e=document.createElement("detectGradientSupport").style;try{if(e.backgroundImage="linear-gradient(to top left, #9f9, white)",-1!==e.backgroundImage.indexOf("gradient"))return"noprefix";if(e.backgroundImage="-webkit-linear-gradient(left top, #9f9, white)",-1!==e.backgroundImage.indexOf("gradient"))return"webkit";if(e.backgroundImage="-ms-linear-gradient(left top, #9f9, white)",-1!==e.backgroundImage.indexOf("gradient"))return"ms";if(e.backgroundImage="-webkit-gradient(linear, left top, right bottom, from(#9f9), to(white))",-1!==e.backgroundImage.indexOf("gradient"))return"oldwebkit"}catch(t){try{if(e.filter='progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff",endColorstr="#000000",GradientType=0)',-1!==e.filter.indexOf("DXImageTransform"))return"filter"}catch(t){}}return!1},e.fn.ColorPickerSliders.svgSupported=function(){return!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect}}(jQuery)